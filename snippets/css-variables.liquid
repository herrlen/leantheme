{% style %}
  {%- comment -%}
    CSS Variables - Farben, Layout, Spacing
    Nutzt das Theme Preset System oder individuelle Settings.
    Font-Deklarationen werden von font-loader.liquid generiert.
  {%- endcomment -%}

  :root {
    {%- comment -%} Typography Scale (Font-Families in font-loader.liquid) {%- endcomment -%}
    --font-heading-scale: {{ settings.heading_scale | default: 100 | divided_by: 100.0 }};
    --font-body-scale: {{ settings.body_scale | default: 100 | divided_by: 100.0 }};

    {%- comment -%} Theme Preset: Farben, Buttons, Radius, Spacing {%- endcomment -%}
    {% render 'theme-presets' %}

    {%- comment -%} Layout (immer aus Settings) {%- endcomment -%}
    --page-width: {{ settings.page_width | default: 1200 }}px;
  }

  {%- comment -%} Dark Mode Overrides (nur bei Custom-Preset oder explizit aktiviert) {%- endcomment -%}
  {%- if settings.dark_mode_enabled and settings.theme_preset != 'dark' -%}
    [data-theme="dark"] {
      --color-primary: {{ settings.dark_color_primary }};
      --color-secondary: {{ settings.dark_color_secondary }};
      --color-accent: {{ settings.dark_color_accent }};
      --color-background: {{ settings.dark_color_background }};
      --color-background-secondary: {{ settings.dark_color_background_secondary }};
      --color-text: {{ settings.dark_color_text }};
      --color-text-secondary: {{ settings.dark_color_text_secondary }};
      --color-border: {{ settings.dark_color_border }};
      --color-button-primary-bg: {{ settings.dark_color_button_primary_bg }};
      --color-button-primary-text: {{ settings.dark_color_button_primary_text }};
      --color-button-secondary-bg: {{ settings.dark_color_button_secondary_bg }};
      --color-button-secondary-text: {{ settings.dark_color_button_secondary_text }};
      --color-button-secondary-border: {{ settings.dark_color_button_secondary_border }};
    }
  {%- endif -%}
{% endstyle %}
