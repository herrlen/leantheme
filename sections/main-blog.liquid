<div class="blog-section section-{{ section.id }}-padding">
  <div class="page-width">
    
    <h1 class="blog-heading">{{ blog.title }}</h1>

    {%- paginate blog.articles by 9 -%}
      <div class="blog-grid">
        {%- for article in blog.articles -%}
          <a href="{{ article.url }}" class="blog-card">
            <div class="blog-card-image">
              {% if article.image %}
                <img src="{{ article.image | img_url: '600x' }}" 
                     alt="{{ article.image.alt | escape }}" 
                     width="600"
                     height="600"
                     loading="lazy"
                     style="width: 100%; height: 100%; object-fit: cover;">
              {% else %}
                <div class="placeholder-bg" style="width:100%; height:100%; background:#eee;"></div>
              {% endif %}
            </div>
            <div class="blog-card-content">
              <span class="blog-date">{{ article.published_at | time_tag: format: 'date' }}</span>
              <h2 class="blog-title">{{ article.title }}</h2>
              <div class="blog-excerpt">
                {{ article.excerpt_or_content | strip_html | truncatewords: 20 }}
              </div>
            </div>
          </a>
        {%- endfor -%}
      </div>

      {%- if paginate.pages > 1 -%}
        <div class="pagination">{{ paginate | default_pagination }}</div>
      {%- endif -%}
    {%- endpaginate -%}
  </div>
</div>

<style>
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | default: 60 }}px;
    padding-bottom: {{ section.settings.padding_bottom | default: 60 }}px;
  }
  .page-width {
    margin: 0 auto; max-width: 1200px;
    padding-left: clamp(20px, {{ section.settings.padding_side | default: 20 }}px, 10vw);
    padding-right: clamp(20px, {{ section.settings.padding_side | default: 20 }}px, 10vw);
  }
  .blog-heading { text-align: center; margin-bottom: 50px; font-size: 2.5rem; }

  .blog-grid { display: grid; grid-template-columns: 1fr; gap: 40px; }
  @media(min-width: 750px) { .blog-grid { grid-template-columns: repeat(3, 1fr); } }

  .blog-card { text-decoration: none; color: inherit; display: block; }
  .blog-card-image { aspect-ratio: 16/9; overflow: hidden; border-radius: 4px; background: #eee; margin-bottom: 15px; }
  .blog-card:hover .blog-card-image img { transform: scale(1.03); transition: transform 0.3s; }
  
  .blog-date { font-size: 0.8rem; text-transform: uppercase; color: #666; display: block; margin-bottom: 5px; }
  .blog-title { margin: 0 0 10px; font-size: 1.3rem; line-height: 1.3; }
  .blog-excerpt { font-size: 0.95rem; color: #444; line-height: 1.6; }

  .pagination { margin-top: 50px; text-align: center; display: flex; justify-content: center; gap: 10px; }
  .pagination span, .pagination a { padding: 8px 12px; border: 1px solid #ddd; text-decoration: none; color: inherit; }
  .pagination .current { background: #000; color: #fff; }
</style>

{% schema %}
{
  "name": "Blog Ãœbersicht",
  "settings": [
    { "type": "range", "id": "padding_side", "min": 20, "max": 200, "step": 10, "default": 20, "label": "Seitlicher Abstand" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "step": 4, "default": 60, "label": "Abstand oben" },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "step": 4, "default": 60, "label": "Abstand unten" }
  ]
}
{% endschema %}